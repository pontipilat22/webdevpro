<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Админ-панель - WebDev Pro</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="admin.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=AW-16899053107"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'AW-16899053107');
    </script>
</head>
<body>
    <!-- Страница входа -->
    <div class="login-wrapper" id="loginWrapper">
        <div class="login-container">
            <div class="login-header">
                <div class="logo">
                    <span class="logo-icon">&lt;/&gt;</span>
                    <span class="logo-text">WebDev Pro</span>
                </div>
                <h2>Админ-панель</h2>
                <p>Войдите для управления сайтом</p>
            </div>
            <form class="login-form" id="loginForm">
                <div class="form-group">
                    <label for="username">Логин</label>
                    <input type="text" id="username" placeholder="Введите логин" required>
                </div>
                <div class="form-group">
                    <label for="password">Пароль</label>
                    <input type="password" id="password" placeholder="Введите пароль" required>
                </div>
                <button type="submit" class="btn btn-primary">Войти</button>
                <div class="login-hint">
                    Логин: admin | Пароль: admin123
                </div>
            </form>
        </div>
    </div>

    <!-- Админ-панель -->
    <div class="admin-wrapper" id="adminWrapper" style="display: none;">
        <!-- Боковое меню -->
        <aside class="admin-sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <span class="logo-icon">&lt;/&gt;</span>
                    <span class="logo-text">Admin</span>
                </div>
            </div>
            <nav class="sidebar-nav">
                <a href="#prices" class="nav-item active" data-section="prices">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="12" y1="1" x2="12" y2="23"/>
                        <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/>
                    </svg>
                    Цены
                </a>
                <a href="#portfolio" class="nav-item" data-section="portfolio">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                        <circle cx="8.5" cy="8.5" r="1.5"/>
                        <polyline points="21 15 16 10 5 21"/>
                    </svg>
                    Портфолио
                </a>
                <a href="#orders" class="nav-item" data-section="orders">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                        <polyline points="14 2 14 8 20 8"/>
                        <line x1="16" y1="13" x2="8" y2="13"/>
                        <line x1="16" y1="17" x2="8" y2="17"/>
                        <polyline points="10 9 9 9 8 9"/>
                    </svg>
                    Заявки
                </a>
                <a href="#settings" class="nav-item" data-section="settings">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="3"/>
                        <path d="M12 1v6m0 6v6m6-12h-6m-6 0h6"/>
                        <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/>
                    </svg>
                    Настройки
                </a>
                <a href="index.html" class="nav-item">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
                        <polyline points="9 22 9 12 15 12 15 22"/>
                    </svg>
                    На сайт
                </a>
            </nav>
            <div class="sidebar-footer">
                <button class="btn btn-outline" id="logoutBtn">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/>
                        <polyline points="16 17 21 12 16 7"/>
                        <line x1="21" y1="12" x2="9" y2="12"/>
                    </svg>
                    Выйти
                </button>
            </div>
        </aside>

        <!-- Основной контент -->
        <main class="admin-main">
            <div class="admin-header">
                <h1 id="sectionTitle">Управление ценами</h1>
                <div class="header-actions">
                    <button class="btn btn-secondary" id="resetBtn">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="23 4 23 10 17 10"/>
                            <polyline points="1 20 1 14 7 14"/>
                            <path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"/>
                        </svg>
                        Сбросить данные
                    </button>
                </div>
            </div>

            <!-- Секция: Цены -->
            <section class="admin-section active" id="pricesSection">
                <div class="section-info">
                    <p>Редактируйте цены на услуги. Изменения сразу отобразятся на сайте.</p>
                </div>

                <div class="cards-grid">
                    <!-- Лендинг -->
                    <div class="admin-card">
                        <h3>Лендинг</h3>
                        <form class="price-form" data-price-id="landing">
                            <div class="form-group">
                                <label>Цена (₸)</label>
                                <input type="number" class="price-input" data-field="price" value="50000" required>
                            </div>
                            <div class="form-group">
                                <label>Срок выполнения</label>
                                <input type="text" class="price-input" data-field="duration" value="5-7 дней" required>
                            </div>
                            <button type="submit" class="btn btn-primary">Сохранить</button>
                        </form>
                    </div>

                    <!-- Корпоративный -->
                    <div class="admin-card">
                        <h3>Корпоративный сайт</h3>
                        <form class="price-form" data-price-id="corporate">
                            <div class="form-group">
                                <label>Цена (₸)</label>
                                <input type="number" class="price-input" data-field="price" value="150000" required>
                            </div>
                            <div class="form-group">
                                <label>Срок выполнения</label>
                                <input type="text" class="price-input" data-field="duration" value="14-21 день" required>
                            </div>
                            <button type="submit" class="btn btn-primary">Сохранить</button>
                        </form>
                    </div>

                    <!-- Интернет-магазин -->
                    <div class="admin-card">
                        <h3>Интернет-магазин</h3>
                        <form class="price-form" data-price-id="ecommerce">
                            <div class="form-group">
                                <label>Цена (₸)</label>
                                <input type="number" class="price-input" data-field="price" value="250000" required>
                            </div>
                            <div class="form-group">
                                <label>Срок выполнения</label>
                                <input type="text" class="price-input" data-field="duration" value="30-45 дней" required>
                            </div>
                            <button type="submit" class="btn btn-primary">Сохранить</button>
                        </form>
                    </div>
                </div>
            </section>

            <!-- Секция: Портфолио -->
            <section class="admin-section" id="portfolioSection">
                <div class="section-info">
                    <p>Управляйте проектами в портфолио. Добавляйте новые работы или редактируйте существующие.</p>
                </div>

                <div class="section-actions">
                    <button class="btn btn-primary" id="addProjectBtn">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="12" y1="5" x2="12" y2="19"/>
                            <line x1="5" y1="12" x2="19" y2="12"/>
                        </svg>
                        Добавить проект
                    </button>
                </div>

                <div class="cards-grid" id="portfolioGrid">
                    <!-- Проекты будут загружены динамически -->
                </div>
            </section>

            <!-- Секция: Заявки -->
            <section class="admin-section" id="ordersSection">
                <div class="section-info">
                    <p>Просматривайте и управляйте заявками от клиентов. Все новые заявки отображаются здесь в реальном времени.</p>
                </div>

                <div class="orders-container" id="ordersContainer">
                    <!-- Заявки будут загружены динамически -->
                </div>
            </section>

            <!-- Секция: Настройки -->
            <section class="admin-section" id="settingsSection">
                <div class="section-info">
                    <p>Управление настройками безопасности и доступа к админ-панели.</p>
                </div>

                <div class="settings-container">
                    <div class="admin-card">
                        <h3>Смена пароля</h3>
                        <p style="color: var(--color-text-secondary); margin-bottom: 24px;">
                            Регулярная смена пароля повышает безопасность вашей админ-панели.
                            Используйте надёжный пароль длиной минимум 6 символов.
                        </p>
                        <form id="changePasswordForm">
                            <div class="form-group">
                                <label for="currentPassword">Текущий пароль <span class="required">*</span></label>
                                <input type="password" id="currentPassword" placeholder="Введите текущий пароль" required>
                            </div>
                            <div class="form-group">
                                <label for="newPassword">Новый пароль <span class="required">*</span></label>
                                <input type="password" id="newPassword" placeholder="Минимум 6 символов" required minlength="6">
                            </div>
                            <div class="form-group">
                                <label for="confirmPassword">Подтвердите новый пароль <span class="required">*</span></label>
                                <input type="password" id="confirmPassword" placeholder="Повторите новый пароль" required minlength="6">
                            </div>
                            <button type="submit" class="btn btn-primary">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <rect x="3" y="11" width="18" height="11" rx="2" ry="2"/>
                                    <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
                                </svg>
                                Изменить пароль
                            </button>
                        </form>
                    </div>

                    <div class="admin-card">
                        <h3>Информация о безопасности</h3>
                        <div class="security-info">
                            <div class="info-item">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                                </svg>
                                <div>
                                    <h4>Хеширование паролей</h4>
                                    <p>Ваш пароль хранится в зашифрованном виде с использованием алгоритма PBKDF2-SHA256</p>
                                </div>
                            </div>
                            <div class="info-item">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="12" cy="12" r="10"/>
                                    <path d="M12 16v-4"/>
                                    <path d="M12 8h.01"/>
                                </svg>
                                <div>
                                    <h4>Рекомендации по паролю</h4>
                                    <p>Используйте комбинацию букв, цифр и специальных символов. Не используйте простые пароли типа "123456"</p>
                                </div>
                            </div>
                            <div class="info-item">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M12 2L2 7l10 5 10-5-10-5z"/>
                                    <path d="M2 17l10 5 10-5"/>
                                    <path d="M2 12l10 5 10-5"/>
                                </svg>
                                <div>
                                    <h4>Локальное хранение</h4>
                                    <p>Все данные хранятся локально на вашем сервере в файле data.json</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Модальное окно для редактирования проекта -->
    <div class="modal" id="projectModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalTitle">Добавить проект</h3>
                <button class="modal-close" id="modalClose">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18"/>
                        <line x1="6" y1="6" x2="18" y2="18"/>
                    </svg>
                </button>
            </div>
            <form class="modal-form" id="projectForm">
                <input type="hidden" id="projectId">
                <div class="form-group">
                    <label for="projectTitle">Название проекта</label>
                    <input type="text" id="projectTitle" placeholder="Интернет-магазин одежды" required>
                </div>
                <div class="form-group">
                    <label for="projectDescription">Описание</label>
                    <textarea id="projectDescription" rows="3" placeholder="Краткое описание проекта..." required></textarea>
                </div>
                <div class="form-group">
                    <label for="projectCategory">Категория</label>
                    <select id="projectCategory" required>
                        <option value="E-commerce">E-commerce</option>
                        <option value="Landing">Landing</option>
                        <option value="Corporate">Corporate</option>
                        <option value="Portfolio">Portfolio</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="projectTags">Технологии (через запятую)</label>
                    <input type="text" id="projectTags" placeholder="React, Node.js, MongoDB" required>
                </div>
                <div class="form-group">
                    <label for="projectGradient">Цвет градиента</label>
                    <select id="projectGradient">
                        <option value="linear-gradient(135deg, #667eea 0%, #764ba2 100%)">Фиолетовый</option>
                        <option value="linear-gradient(135deg, #f093fb 0%, #f5576c 100%)">Розовый</option>
                        <option value="linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)">Голубой</option>
                        <option value="linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)">Зелёный</option>
                        <option value="linear-gradient(135deg, #fa709a 0%, #fee140 100%)">Оранжевый</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="projectUrl">Ссылка на сайт (необязательно)</label>
                    <input type="url" id="projectUrl" placeholder="https://example.com">
                    <small style="color: var(--color-text-secondary); font-size: 0.85rem; display: block; margin-top: 4px;">
                        При указании ссылки в карточке будет показан предпросмотр сайта
                    </small>
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn btn-outline" id="cancelBtn">Отмена</button>
                    <button type="submit" class="btn btn-primary">Сохранить</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Уведомления -->
    <div class="notifications" id="notifications"></div>

    <!-- Используйте admin-api.js для работы с сервером или admin.js для локальной работы -->
    <script src="admin-api.js"></script>
</body>
</html>